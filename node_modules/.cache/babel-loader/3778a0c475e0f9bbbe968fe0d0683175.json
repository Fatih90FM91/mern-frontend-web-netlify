{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hunterman\\\\Desktop\\\\Full-Stack-Mern-Project-2022\\\\frontend-web\\\\src\\\\components\\\\questions\\\\ShowOneQuestion.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport Messages from './messages/Messages';\nimport './Question.css';\nimport { axiosInstance } from '../../config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet myId = \"\";\nexport default class ShowOneQuestion extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      // console.log(this.props.match.params.id);\n      let id = this.props.match.params.id;\n      myId = id;\n      axios.get(`http://localhost:5000/show-question/${id}`).then(res => {\n        console.log(res);\n        console.log(res.data[0].question);\n        console.log(res.data[0].answers);\n        this.setState({\n          result: res.data[0].answers\n        });\n        this.setState({\n          result2: res.data[0].question\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      let data = {\n        answer: this.state.answer\n      };\n      axios.post(`http://localhost:5000/answerQuestion/${myId}`, data) //there is a bug in here  i need to solve it\n      .then(res => {\n        console.log(res);\n        this.setState({\n          result: res.data\n        }); // let token = response.data.token;\n        // localStorage.setItem('user', token)\n      }).catch(err => {\n        // this.props.history.push(`show-question/${myId}`);\n        window.location.reload();\n        console.log('i am here');\n        console.log(err);\n      });\n    };\n\n    this.handleRemove = e => {\n      let allresults = this.state.result;\n      const result = allresults.filter(result => result.answer !== e.target.name);\n      this.setState({\n        result: result\n      });\n    };\n\n    this.state = {\n      result: null,\n      answer: '',\n      result: [],\n      result2: ''\n    };\n  }\n\n  render() {\n    let mId = myId;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"oneQuestion\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Question\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: this.state.result2 && this.state.result2.question\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: this.state.result2 && this.state.result2.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"This is Question Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 17\n          }, this), \" \", this.state.result2 && this.state.result2.created_at]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/messages\",\n        className: \"back-link\",\n        children: \"Go Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"messages-below-question\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/answerQuestion/${this.state.result._id}`,\n          className: \"all-answer-link\",\n          children: \"These are all answers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"all-messages\",\n          children: this.state.result && this.state.result.map(result => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"answer-css-question\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: result.answer\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 18\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"This is Answer Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 21\n                }, this), \" \", result.created_at]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 18\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                name: result.answer,\n                onClick: this.handleRemove,\n                class: \"btn btn-dark\",\n                children: \"Done..\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 18\n              }, this)]\n            }, result._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 16\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          className: \"form\",\n          noValidate: true,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Get started with us today! Create your answer by filling out the information below.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-inputs\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Message\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"form-input\",\n              type: \"text\",\n              name: \"answer\",\n              placeholder: \"Leave a message\",\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"form-input-btn\",\n            type: \"submit\",\n            onSubmit: this.handleSubmit,\n            children: \"Submit Message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 20\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/hunterman/Desktop/Full-Stack-Mern-Project-2022/frontend-web/src/components/questions/ShowOneQuestion.jsx"],"names":["React","Component","axios","Link","Messages","axiosInstance","myId","ShowOneQuestion","constructor","props","componentDidMount","id","match","params","get","then","res","console","log","data","question","answers","setState","result","result2","catch","err","handleChange","e","target","name","value","handleSubmit","preventDefault","answer","state","post","window","location","reload","handleRemove","allresults","filter","render","mId","description","created_at","_id","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom';\r\nimport Messages from './messages/Messages';\r\nimport './Question.css'\r\nimport { axiosInstance } from '../../config';\r\n\r\nlet myId =\"\";\r\n\r\nexport default class ShowOneQuestion extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n          result:null,\r\n          answer:'',\r\n          result:[],\r\n          result2:''\r\n        \r\n        }\r\n      }\r\n\r\n  \r\n      \r\n      componentDidMount = () =>{\r\n        // console.log(this.props.match.params.id);\r\n        let id =this.props.match.params.id;\r\n        myId=id;\r\n        axios.get(`http://localhost:5000/show-question/${id}`)\r\n        .then(res => {\r\n         console.log(res);\r\n          console.log(res.data[0].question);\r\n          console.log(res.data[0].answers);\r\n          this.setState({result:res.data[0].answers})\r\n          this.setState({result2:res.data[0].question})\r\n        }\r\n          \r\n       )\r\n        .catch(err => console.log(err))\r\n      \r\n\r\n      }\r\n      \r\n\r\n\r\n      handleChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value})\r\n    \r\n      \r\n      }\r\n\r\n      \r\n      handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let data = {\r\n           \r\n            answer: this.state.answer,\r\n           \r\n     \r\n        }\r\n       \r\n  \r\n      \r\n      \r\n        axios.post(`http://localhost:5000/answerQuestion/${myId}`, data) //there is a bug in here  i need to solve it\r\n              .then( res => {\r\n             \r\n                 console.log(res);\r\n                this.setState({ result: res.data})\r\n               \r\n                // let token = response.data.token;\r\n                // localStorage.setItem('user', token)\r\n                \r\n              })\r\n              .catch( err => {\r\n                // this.props.history.push(`show-question/${myId}`);\r\n                window.location.reload();\r\n                console.log('i am here')\r\n                 console.log(err)})\r\n\r\n  \r\n           \r\n      }\r\n\r\n      \r\n      handleRemove = (e) => {\r\n        let allresults=this.state.result;\r\n        const result =allresults.filter(result => result.answer !== e.target.name);\r\n         this.setState({result:result});\r\n\r\n     }\r\n\r\n\r\n  render() {\r\n\r\n    let mId =myId;\r\n     \r\n    return (\r\n      <div className='oneQuestion'>\r\n       <h1>Question</h1>\r\n         <div className='question-message'>\r\n             <h2>{this.state.result2 && this.state.result2.question}</h2> \r\n             <p>{this.state.result2 && this.state.result2.description}</p>\r\n             <p><strong>This is Question Date:</strong> {this.state.result2 && this.state.result2.created_at}</p>\r\n        </div>\r\n     <Link to='/messages' className='back-link'>Go Back</Link>\r\n        \r\n        <div className='messages-below-question'>\r\n        <Link to={`/answerQuestion/${this.state.result._id}`} className='all-answer-link'>These are all answers</Link>\r\n\r\n       \r\n           <div className='all-messages'>\r\n          {this.state.result && this.state.result.map( result =>{\r\n               \r\n             return(\r\n               <div key={result._id} className='answer-css-question'>\r\n                 <h6>{result.answer}</h6>\r\n                 <p><strong>This is Answer Date:</strong> {result.created_at}</p>\r\n                 <button name={result.answer} onClick={this.handleRemove} class=\"btn btn-dark\">Done..</button>\r\n                 \r\n            \r\n               </div>\r\n             )\r\n          })}\r\n\r\n       \r\n           </div>\r\n\r\n            \r\n         <form onSubmit={this.handleSubmit} className='form' noValidate>\r\n          <h1>\r\n            Get started with us today! Create your answer by filling out the\r\n            information below.\r\n          </h1>\r\n     \r\n    \r\n          <div className='form-inputs'>\r\n            <label className='form-label'>Message</label>\r\n            <textarea\r\n              className='form-input'\r\n              type='text'\r\n              name='answer'\r\n              placeholder='Leave a message'\r\n              \r\n              onChange={this.handleChange}\r\n            />\r\n             \r\n          </div>\r\n      \r\n          <button className='form-input-btn' type='submit' onSubmit={this.handleSubmit} >\r\n            Submit Message\r\n          </button><br />\r\n        \r\n        </form>\r\n\r\n        </div>\r\n\r\n\r\n\r\n      </div>\r\n\r\n      \r\n    )\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}