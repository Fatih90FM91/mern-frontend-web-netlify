{"ast":null,"code":"import _defineProperty from\"C:/Users/hunterman/Desktop/Full-Stack-Mern-Project-2022/frontend-web/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"C:/Users/hunterman/Desktop/Full-Stack-Mern-Project-2022/frontend-web/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/hunterman/Desktop/Full-Stack-Mern-Project-2022/frontend-web/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/hunterman/Desktop/Full-Stack-Mern-Project-2022/frontend-web/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/hunterman/Desktop/Full-Stack-Mern-Project-2022/frontend-web/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import axios from'axios';import{Link}from'react-router-dom';import Messages from'./messages/Messages';import'./Question.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var myId=\"\";var devENV=process.env.NODE_ENV!==\"production\";var _process$env=process.env,REACT_APP_DEV_API=_process$env.REACT_APP_DEV_API,REACT_APP_PROD_API=_process$env.REACT_APP_PROD_API;var ShowOneQuestion=/*#__PURE__*/function(_Component){_inherits(ShowOneQuestion,_Component);var _super=_createSuper(ShowOneQuestion);function ShowOneQuestion(props){var _this$state;var _this;_classCallCheck(this,ShowOneQuestion);_this=_super.call(this,props);_this.componentDidMount=function(){// console.log(this.props.match.params.id);\nvar id=_this.props.match.params.id;myId=id;axios.get(\"\".concat(devENV?REACT_APP_DEV_API:REACT_APP_PROD_API,\"/show-question/\").concat(id)).then(function(res){console.log(res);console.log(res.data[0].question);console.log(res.data[0].answers);_this.setState({result:res.data[0].answers});_this.setState({result2:res.data[0].question});}).catch(function(err){return console.log(err);});};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleSubmit=function(e){e.preventDefault();var data={answer:_this.state.answer};axios.post(\"\".concat(devENV?REACT_APP_DEV_API:REACT_APP_PROD_API,\"/answerQuestion/\").concat(myId),data)//there is a bug in here  i need to solve it\n.then(function(res){console.log(res);_this.setState({result:res.data});// let token = response.data.token;\n// localStorage.setItem('user', token)\n}).catch(function(err){// this.props.history.push(`show-question/${myId}`);\nwindow.location.reload();console.log('i am here');console.log(err);});};_this.handleRemove=function(e){var allresults=_this.state.result;var result=allresults.filter(function(result){return result.answer!==e.target.name;});_this.setState({result:result});};_this.state=(_this$state={result:null,answer:''},_defineProperty(_this$state,\"result\",[]),_defineProperty(_this$state,\"result2\",''),_this$state);return _this;}_createClass(ShowOneQuestion,[{key:\"render\",value:function render(){var _this2=this;var mId=myId;return/*#__PURE__*/_jsxs(\"div\",{className:\"oneQuestion\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Question\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"question-message\",children:[/*#__PURE__*/_jsx(\"h2\",{children:this.state.result2&&this.state.result2.question}),/*#__PURE__*/_jsx(\"p\",{children:this.state.result2&&this.state.result2.description}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"This is Question Date:\"}),\" \",this.state.result2&&this.state.result2.created_at]})]}),/*#__PURE__*/_jsx(Link,{to:\"/messages\",className:\"back-link\",children:\"Go Back\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"messages-below-question\",children:[/*#__PURE__*/_jsx(Link,{to:\"/answerQuestion/\".concat(this.state.result._id),className:\"all-answer-link\",children:\"These are all answers\"}),/*#__PURE__*/_jsx(\"div\",{className:\"all-messages\",children:this.state.result&&this.state.result.map(function(result){return/*#__PURE__*/_jsxs(\"div\",{className:\"answer-css-question\",children:[/*#__PURE__*/_jsx(\"h6\",{children:result.answer}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"This is Answer Date:\"}),\" \",result.created_at]}),/*#__PURE__*/_jsx(\"button\",{name:result.answer,onClick:_this2.handleRemove,class:\"btn btn-dark\",children:\"Done..\"})]},result._id);})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,className:\"form\",noValidate:true,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Get started with us today! Create your answer by filling out the information below.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-inputs\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Message\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-input\",type:\"text\",name:\"answer\",placeholder:\"Leave a message\",onChange:this.handleChange})]}),/*#__PURE__*/_jsx(\"button\",{className:\"form-input-btn\",type:\"submit\",onSubmit:this.handleSubmit,children:\"Submit Message\"}),/*#__PURE__*/_jsx(\"br\",{})]})]})]});}}]);return ShowOneQuestion;}(Component);export{ShowOneQuestion as default};","map":{"version":3,"sources":["C:/Users/hunterman/Desktop/Full-Stack-Mern-Project-2022/frontend-web/src/components/questions/ShowOneQuestion.jsx"],"names":["React","Component","axios","Link","Messages","myId","devENV","process","env","NODE_ENV","REACT_APP_DEV_API","REACT_APP_PROD_API","ShowOneQuestion","props","componentDidMount","id","match","params","get","then","res","console","log","data","question","answers","setState","result","result2","catch","err","handleChange","e","target","name","value","handleSubmit","preventDefault","answer","state","post","window","location","reload","handleRemove","allresults","filter","mId","description","created_at","_id","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom';\r\nimport Messages from './messages/Messages';\r\nimport './Question.css'\r\n\r\n\r\nlet myId =\"\";\r\n\r\nconst devENV = process.env.NODE_ENV !== \"production\";\r\n\r\nconst {REACT_APP_DEV_API  , REACT_APP_PROD_API} = process.env;\r\n\r\n\r\nexport default class ShowOneQuestion extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n          result:null,\r\n          answer:'',\r\n          result:[],\r\n          result2:''\r\n        \r\n        }\r\n      }\r\n\r\n  \r\n      \r\n      componentDidMount = () =>{\r\n        // console.log(this.props.match.params.id);\r\n        let id =this.props.match.params.id;\r\n        myId=id;\r\n        axios.get(`${devENV ? REACT_APP_DEV_API : REACT_APP_PROD_API}/show-question/${id}`)\r\n        .then(res => {\r\n         console.log(res);\r\n          console.log(res.data[0].question);\r\n          console.log(res.data[0].answers);\r\n          this.setState({result:res.data[0].answers})\r\n          this.setState({result2:res.data[0].question})\r\n        }\r\n          \r\n       )\r\n        .catch(err => console.log(err))\r\n      \r\n\r\n      }\r\n      \r\n\r\n\r\n      handleChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value})\r\n    \r\n      \r\n      }\r\n\r\n      \r\n      handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let data = {\r\n           \r\n            answer: this.state.answer,\r\n           \r\n     \r\n        }\r\n       \r\n  \r\n      \r\n      \r\n        axios.post(`${devENV ? REACT_APP_DEV_API : REACT_APP_PROD_API}/answerQuestion/${myId}`, data) //there is a bug in here  i need to solve it\r\n              .then( res => {\r\n             \r\n                 console.log(res);\r\n                this.setState({ result: res.data})\r\n               \r\n                // let token = response.data.token;\r\n                // localStorage.setItem('user', token)\r\n                \r\n              })\r\n              .catch( err => {\r\n                // this.props.history.push(`show-question/${myId}`);\r\n                window.location.reload();\r\n                console.log('i am here')\r\n                 console.log(err)})\r\n\r\n  \r\n           \r\n      }\r\n\r\n      \r\n      handleRemove = (e) => {\r\n        let allresults=this.state.result;\r\n        const result =allresults.filter(result => result.answer !== e.target.name);\r\n         this.setState({result:result});\r\n\r\n     }\r\n\r\n\r\n  render() {\r\n\r\n    let mId =myId;\r\n     \r\n    return (\r\n      <div className='oneQuestion'>\r\n       <h1>Question</h1>\r\n         <div className='question-message'>\r\n             <h2>{this.state.result2 && this.state.result2.question}</h2> \r\n             <p>{this.state.result2 && this.state.result2.description}</p>\r\n             <p><strong>This is Question Date:</strong> {this.state.result2 && this.state.result2.created_at}</p>\r\n        </div>\r\n     <Link to='/messages' className='back-link'>Go Back</Link>\r\n        \r\n        <div className='messages-below-question'>\r\n        <Link to={`/answerQuestion/${this.state.result._id}`} className='all-answer-link'>These are all answers</Link>\r\n\r\n       \r\n           <div className='all-messages'>\r\n          {this.state.result && this.state.result.map( result =>{\r\n               \r\n             return(\r\n               <div key={result._id} className='answer-css-question'>\r\n                 <h6>{result.answer}</h6>\r\n                 <p><strong>This is Answer Date:</strong> {result.created_at}</p>\r\n                 <button name={result.answer} onClick={this.handleRemove} class=\"btn btn-dark\">Done..</button>\r\n                 \r\n            \r\n               </div>\r\n             )\r\n          })}\r\n\r\n       \r\n           </div>\r\n\r\n            \r\n         <form onSubmit={this.handleSubmit} className='form' noValidate>\r\n          <h1>\r\n            Get started with us today! Create your answer by filling out the\r\n            information below.\r\n          </h1>\r\n     \r\n    \r\n          <div className='form-inputs'>\r\n            <label className='form-label'>Message</label>\r\n            <textarea\r\n              className='form-input'\r\n              type='text'\r\n              name='answer'\r\n              placeholder='Leave a message'\r\n              \r\n              onChange={this.handleChange}\r\n            />\r\n             \r\n          </div>\r\n      \r\n          <button className='form-input-btn' type='submit' onSubmit={this.handleSubmit} >\r\n            Submit Message\r\n          </button><br />\r\n        \r\n        </form>\r\n\r\n        </div>\r\n\r\n\r\n\r\n      </div>\r\n\r\n      \r\n    )\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}