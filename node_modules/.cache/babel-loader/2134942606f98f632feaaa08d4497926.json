{"ast":null,"code":"import _defineProperty from\"C:/Users/hunterman/Desktop/Full-Stack-Mern-Project-2022/frontend-web/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"C:/Users/hunterman/Desktop/Full-Stack-Mern-Project-2022/frontend-web/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/hunterman/Desktop/Full-Stack-Mern-Project-2022/frontend-web/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/hunterman/Desktop/Full-Stack-Mern-Project-2022/frontend-web/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/hunterman/Desktop/Full-Stack-Mern-Project-2022/frontend-web/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Form,TextArea,Input,Label,Button}from'semantic-ui-react';import axios from'axios';import'./Question.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var devENV=process.env.NODE_ENV!==\"production\";var _process$env=process.env,REACT_APP_DEV_API=_process$env.REACT_APP_DEV_API,REACT_APP_PROD_API=_process$env.REACT_APP_PROD_API;var Question=/*#__PURE__*/function(_Component){_inherits(Question,_Component);var _super=_createSuper(Question);function Question(props){var _this;_classCallCheck(this,Question);_this=_super.call(this,props);_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.componentDidMount=function(){var currentToken=localStorage.getItem('user');console.log(currentToken);if(currentToken){axios.get(\"\".concat(devENV?REACT_APP_DEV_API:REACT_APP_PROD_API,\"/showQuestion\")).then(function(response){_this.setState({result2:response.data});}).catch(function(err){_this.setState({result2:err.response.data});});}else{_this.props.history.push('/login');}};_this.handleSubmit=function(e){e.preventDefault();var data={question:_this.state.question,description:_this.state.description};axios.post(\"\".concat(devENV?REACT_APP_DEV_API:REACT_APP_PROD_API,\"/askQuestion\"),data).then(function(res){// console.log(res.data);\n_this.setState({result:res.data});_this.props.history.push('/messages');// let token = response.data.token;\n// localStorage.setItem('user', token)\n}).catch(function(err){_this.setState({result:err.res.data});});};_this.state={question:'',description:'',result:''};return _this;}_createClass(Question,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"questions\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Ask a Question\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,className:\"form\",noValidate:true,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Get started with us today! Create your question by filling out the information below.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-inputs\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Question\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",type:\"text\",name:\"question\",placeholder:\"Enter your question\",onChange:this.handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-inputs\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-input\",type:\"text\",name:\"description\",placeholder:\"Enter your description\",onChange:this.handleChange})]}),/*#__PURE__*/_jsx(\"button\",{className:\"form-input-btn\",type:\"submit\",onSubmit:this.handleSubmit,children:\"Submit Question\"}),/*#__PURE__*/_jsx(\"br\",{})]})]});}}]);return Question;}(Component);export{Question as default};","map":{"version":3,"sources":["C:/Users/hunterman/Desktop/Full-Stack-Mern-Project-2022/frontend-web/src/components/questions/Question.jsx"],"names":["React","Component","Form","TextArea","Input","Label","Button","axios","devENV","process","env","NODE_ENV","REACT_APP_DEV_API","REACT_APP_PROD_API","Question","props","handleChange","e","setState","target","name","value","componentDidMount","currentToken","localStorage","getItem","console","log","get","then","response","result2","data","catch","err","history","push","handleSubmit","preventDefault","question","state","description","post","res","result"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Form, TextArea ,Input ,Label , Button  } from 'semantic-ui-react';\r\nimport axios from 'axios';\r\nimport './Question.css'\r\n\r\n\r\nconst devENV = process.env.NODE_ENV !== \"production\";\r\n\r\nconst {REACT_APP_DEV_API  , REACT_APP_PROD_API} = process.env;\r\n\r\n\r\nexport default class Question extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n          question: '',\r\n          description: '',\r\n          result:''\r\n        \r\n        }\r\n      }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value})\r\n     \r\n      \r\n      }\r\n\r\n      componentDidMount = () => {\r\n        const currentToken = localStorage.getItem('user')\r\n        console.log(currentToken );\r\n        if(currentToken){\r\n          axios.get(`${devENV ? REACT_APP_DEV_API : REACT_APP_PROD_API}/showQuestion`)\r\n                .then( response => {\r\n                \r\n                    this.setState({ result2: response.data })\r\n                })\r\n                .catch( err => {\r\n                    this.setState({ result2: err.response.data })\r\n                })\r\n        } else {\r\n            this.props.history.push('/login');\r\n        }\r\n    }\r\n\r\n  \r\n      handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let data = {\r\n            question: this.state.question,\r\n            description: this.state.description,\r\n    \r\n            \r\n        }\r\n        axios.post(`${devENV ? REACT_APP_DEV_API : REACT_APP_PROD_API}/askQuestion`, data)\r\n              .then( res => {\r\n\r\n                // console.log(res.data);\r\n                this.setState({ result: res.data })\r\n                this.props.history.push('/messages')\r\n               \r\n                // let token = response.data.token;\r\n                // localStorage.setItem('user', token)\r\n                \r\n              })\r\n              .catch( err => {\r\n                this.setState({ result: err.res.data })\r\n              })\r\n           \r\n      }\r\n\r\n  \r\n\r\n  render() {\r\n    return (\r\n      <div className='questions'>\r\n          <h1>Ask a Question</h1>\r\n\r\n<form onSubmit={this.handleSubmit} className='form' noValidate>\r\n          <h1>\r\n            Get started with us today! Create your question by filling out the\r\n            information below.\r\n          </h1>\r\n     \r\n          <div className='form-inputs'>\r\n            <label className='form-label'>Question</label>\r\n            <input\r\n              className='form-input'\r\n              type='text'\r\n              name='question'\r\n              placeholder='Enter your question'\r\n             \r\n              onChange={this.handleChange}\r\n            />\r\n          \r\n          </div>\r\n          <div className='form-inputs'>\r\n            <label className='form-label'>Description</label>\r\n            <textarea\r\n              className='form-input'\r\n              type='text'\r\n              name='description'\r\n              placeholder='Enter your description'\r\n              \r\n              onChange={this.handleChange}\r\n            />\r\n             \r\n          </div>\r\n      \r\n          <button className='form-input-btn' type='submit' onSubmit={this.handleSubmit} >\r\n            Submit Question\r\n          </button><br />\r\n        \r\n        </form>\r\n\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}